{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nexport default function useFetch() {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [displayedData, setDisplayedData] = useState([]);\n  const initialData = useRef([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // useEffect(\n  //   function () {\n  //     const controller = new AbortController();\n  //     async function getData() {\n  //       try {\n  //         setIsLoading(true);\n\n  //         const res = await fetch(\n  //           `https://api.jikan.moe/v4/anime?q=${query}&sfw=true`,\n  //           {\n  //             signal: controller.signal,\n  //           }\n  //         );\n  //         const data = await res.json();\n  //         setDisplayedData(data.data);\n  //       } catch (err) {\n  //         if (err.name !== \"AbortError\") {\n  //           console.log(err.message);\n  //         }\n  //       } finally {\n  //         setIsLoading(false);\n  //       }\n  //     }\n\n  //     if (query.length < 3) {\n  //       setDisplayedData(initialData.current);\n  //       return;\n  //     }\n\n  //     getData();\n\n  //     return function () {\n  //       controller.abort();\n  //     };\n  //   },\n  //   [query]\n  // );\n\n  // useEffect(function () {\n  //   async function getInitialData() {\n  //     try {\n  //       setIsLoading(true);\n  //       const res = await fetch(`https://api.jikan.moe/v4/anime?q&sfw=true`);\n  //       const data = await res.json();\n  //       initialData.current = data.data;\n  //       setDisplayedData(data.data);\n  //     } catch (err) {\n  //       console.log(err.message);\n  //     } finally {\n  //       setIsLoading(false);\n  //     }\n  //   }\n  //   getInitialData();\n  // }, []);\n\n  // console.log(isLoading);\n\n  return [query, setQuery, displayedData, setDisplayedData, isLoading];\n}\n_s(useFetch, \"CBIZb0xFSm5GgDZsNSjRDhVthFU=\");","map":{"version":3,"names":["useEffect","useRef","useState","useFetch","_s","query","setQuery","displayedData","setDisplayedData","initialData","isLoading","setIsLoading"],"sources":["C:/Users/mo7am/OneDrive/Desktop/AnimeU-main/AnimeU-main/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function useFetch() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [displayedData, setDisplayedData] = useState([]);\r\n  const initialData = useRef([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // useEffect(\r\n  //   function () {\r\n  //     const controller = new AbortController();\r\n  //     async function getData() {\r\n  //       try {\r\n  //         setIsLoading(true);\r\n\r\n  //         const res = await fetch(\r\n  //           `https://api.jikan.moe/v4/anime?q=${query}&sfw=true`,\r\n  //           {\r\n  //             signal: controller.signal,\r\n  //           }\r\n  //         );\r\n  //         const data = await res.json();\r\n  //         setDisplayedData(data.data);\r\n  //       } catch (err) {\r\n  //         if (err.name !== \"AbortError\") {\r\n  //           console.log(err.message);\r\n  //         }\r\n  //       } finally {\r\n  //         setIsLoading(false);\r\n  //       }\r\n  //     }\r\n\r\n  //     if (query.length < 3) {\r\n  //       setDisplayedData(initialData.current);\r\n  //       return;\r\n  //     }\r\n\r\n  //     getData();\r\n\r\n  //     return function () {\r\n  //       controller.abort();\r\n  //     };\r\n  //   },\r\n  //   [query]\r\n  // );\r\n\r\n  // useEffect(function () {\r\n  //   async function getInitialData() {\r\n  //     try {\r\n  //       setIsLoading(true);\r\n  //       const res = await fetch(`https://api.jikan.moe/v4/anime?q&sfw=true`);\r\n  //       const data = await res.json();\r\n  //       initialData.current = data.data;\r\n  //       setDisplayedData(data.data);\r\n  //     } catch (err) {\r\n  //       console.log(err.message);\r\n  //     } finally {\r\n  //       setIsLoading(false);\r\n  //     }\r\n  //   }\r\n  //   getInitialData();\r\n  // }, []);\r\n\r\n  // console.log(isLoading);\r\n\r\n  return [query, setQuery, displayedData, setDisplayedData, isLoading];\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACK,aAAa,EAAEC,gBAAgB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAMO,WAAW,GAAGR,MAAM,CAAC,EAAE,CAAC;EAC9B,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA,OAAO,CAACG,KAAK,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,gBAAgB,EAAEE,SAAS,CAAC;AACtE;AAACN,EAAA,CAhEuBD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}